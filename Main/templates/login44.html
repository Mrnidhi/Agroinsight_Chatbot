<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>AGROINSIGHT</title>
  <link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Arimo' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Hind:300' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
  <style>
    body {
      background-image: url('your-image-url.jpg'); /* Add your background image URL here */
      background-repeat: no-repeat;
      background-size: cover; /* Adjust the background size as needed */
    }
  </style>
</head>

<body>
  <div class="login" align="center">
    <h1>Log In using ID and password</h1>
    <!-- Main Input For Receiving Query to our ML -->
    <form action="{{ url_for('logedin')}}" method="post" onsubmit="return validateForm()">
      <input type="text" id="user_id" name="user_id" placeholder="Gmail ID" required="required" style="width: 50%; padding: 10px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box;"><br><br><br>
      <input type="password" id="password" name="password" placeholder="Password" required="required" style="width: 50%; padding: 10px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box;">
      <input type="checkbox" onclick="togglePasswordVisibility()"> Show Password<br><br>
      <button type="submit" class="btn btn-primary btn-block btn-large" style="width: 50%; padding: 15px; background-color: black; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; transition: background-color 0.3s, color 0.3s;">Login</button>
    </form>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <form action="{{ url_for('register')}}" method="post" onsubmit="return validateRegistration()">
      <h1 style="color:black">Register New User</h1>
      <input type="text" id="register_user_id" name="register_user_id" placeholder="Gmail ID" required="required" style="width: 50%; padding: 10px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box;"><br><br><br>
      <input type="password" id="register_password" name="register_password" placeholder="Password" required="required" style="width: 50%; padding: 10px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box;">
      <input type="checkbox" onclick="toggleRegisterPasswordVisibility()"> Show Password<br><br>
      <button type="submit" class="btn btn-primary btn-block btn-large" style="width: 50%; padding: 15px; background-color: black; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; transition: background-color 0.3s, color 0.3s;">Register</button>
    </form>
    <br>
    <br>
  </div>

  <script>
    function togglePasswordVisibility() {
      var passwordInput = document.getElementById("password");
      if (passwordInput.type === "password") {
        passwordInput.type = "text";
      } else {
        passwordInput.type = "password";
      }
    }

    function toggleRegisterPasswordVisibility() {
      var passwordInput = document.getElementById("register_password");
      if (passwordInput.type === "password") {
        passwordInput.type = "text";
      } else {
        passwordInput.type = "password";
      }
    }

    function validateForm() {
      var userId = document.getElementById("user_id").value;
      var password = document.getElementById("password").value;

      var gmailRegex = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;
      var passwordRegex = /^(?=.*[0-9])(?=.*[a-zA-Z]).{8,}$/;

      if (!gmailRegex.test(userId)) {
        alert("Please enter a valid Gmail ID");
        return false;
      }

      if (!passwordRegex.test(password)) {
        alert("Password must contain at least one letter, one number, and be at least 8 characters long");
        return false;
      }

      return true; // If all validations pass, the form will be submitted
    }

    function validateRegistration() {
      var userId = document.getElementById("register_user_id").value;
      var password = document.getElementById("register_password").value;

      var gmailRegex = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;
      var passwordRegex = /^(?=.*[0-9])(?=.*[a-zA-Z]).{8,}$/;

      if (!gmailRegex.test(userId)) {
        alert("Please enter a valid Gmail ID");
        return false;
      }

      if (!passwordRegex.test(password)) {
        alert("Password must contain at least one letter, one number, and be at least 8 characters long");
        return false;
      }

      // Show a success message after successful registration
      alert("Registration Successful!");

      return true; // If all validations pass, the form will be submitted
    }
  </script>
</body>
</html>
